"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/nutrition/[slug]/route";
exports.ids = ["app/api/nutrition/[slug]/route"];
exports.modules = {

/***/ "better-sqlite3":
/*!*********************************!*\
  !*** external "better-sqlite3" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("better-sqlite3");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "node:fs":
/*!**************************!*\
  !*** external "node:fs" ***!
  \**************************/
/***/ ((module) => {

module.exports = require("node:fs");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fnutrition%2F%5Bslug%5D%2Froute&page=%2Fapi%2Fnutrition%2F%5Bslug%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fnutrition%2F%5Bslug%5D%2Froute.js&appDir=%2FUsers%2Fdianapetrovcikova%2FWebdev%2Fnext%2FFoodies%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fdianapetrovcikova%2FWebdev%2Fnext%2FFoodies&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fnutrition%2F%5Bslug%5D%2Froute&page=%2Fapi%2Fnutrition%2F%5Bslug%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fnutrition%2F%5Bslug%5D%2Froute.js&appDir=%2FUsers%2Fdianapetrovcikova%2FWebdev%2Fnext%2FFoodies%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fdianapetrovcikova%2FWebdev%2Fnext%2FFoodies&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   headerHooks: () => (/* binding */ headerHooks),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage),\n/* harmony export */   staticGenerationBailout: () => (/* binding */ staticGenerationBailout)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_dianapetrovcikova_Webdev_next_Foodies_app_api_nutrition_slug_route_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/nutrition/[slug]/route.js */ \"(rsc)/./app/api/nutrition/[slug]/route.js\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/nutrition/[slug]/route\",\n        pathname: \"/api/nutrition/[slug]\",\n        filename: \"route\",\n        bundlePath: \"app/api/nutrition/[slug]/route\"\n    },\n    resolvedPagePath: \"/Users/dianapetrovcikova/Webdev/next/Foodies/app/api/nutrition/[slug]/route.js\",\n    nextConfigOutput,\n    userland: _Users_dianapetrovcikova_Webdev_next_Foodies_app_api_nutrition_slug_route_js__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks, headerHooks, staticGenerationBailout } = routeModule;\nconst originalPathname = \"/api/nutrition/[slug]/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZudXRyaXRpb24lMkYlNUJzbHVnJTVEJTJGcm91dGUmcGFnZT0lMkZhcGklMkZudXRyaXRpb24lMkYlNUJzbHVnJTVEJTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGbnV0cml0aW9uJTJGJTVCc2x1ZyU1RCUyRnJvdXRlLmpzJmFwcERpcj0lMkZVc2VycyUyRmRpYW5hcGV0cm92Y2lrb3ZhJTJGV2ViZGV2JTJGbmV4dCUyRkZvb2RpZXMlMkZhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPSUyRlVzZXJzJTJGZGlhbmFwZXRyb3ZjaWtvdmElMkZXZWJkZXYlMkZuZXh0JTJGRm9vZGllcyZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDYztBQUM4QjtBQUMzRztBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLHVHQUF1RztBQUMvRztBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQzZKOztBQUU3SiIsInNvdXJjZXMiOlsid2VicGFjazovL2Zvb2RpZXMvP2ZiZmIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiL1VzZXJzL2RpYW5hcGV0cm92Y2lrb3ZhL1dlYmRldi9uZXh0L0Zvb2RpZXMvYXBwL2FwaS9udXRyaXRpb24vW3NsdWddL3JvdXRlLmpzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9udXRyaXRpb24vW3NsdWddL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvbnV0cml0aW9uL1tzbHVnXVwiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvbnV0cml0aW9uL1tzbHVnXS9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIi9Vc2Vycy9kaWFuYXBldHJvdmNpa292YS9XZWJkZXYvbmV4dC9Gb29kaWVzL2FwcC9hcGkvbnV0cml0aW9uL1tzbHVnXS9yb3V0ZS5qc1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBoZWFkZXJIb29rcywgc3RhdGljR2VuZXJhdGlvbkJhaWxvdXQgfSA9IHJvdXRlTW9kdWxlO1xuY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2FwaS9udXRyaXRpb24vW3NsdWddL3JvdXRlXCI7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHNlcnZlckhvb2tzLFxuICAgICAgICBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIGhlYWRlckhvb2tzLCBzdGF0aWNHZW5lcmF0aW9uQmFpbG91dCwgb3JpZ2luYWxQYXRobmFtZSwgcGF0Y2hGZXRjaCwgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fnutrition%2F%5Bslug%5D%2Froute&page=%2Fapi%2Fnutrition%2F%5Bslug%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fnutrition%2F%5Bslug%5D%2Froute.js&appDir=%2FUsers%2Fdianapetrovcikova%2FWebdev%2Fnext%2FFoodies%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fdianapetrovcikova%2FWebdev%2Fnext%2FFoodies&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/nutrition/[slug]/route.js":
/*!*******************************************!*\
  !*** ./app/api/nutrition/[slug]/route.js ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/web/exports/next-response */ \"(rsc)/./node_modules/next/dist/server/web/exports/next-response.js\");\n/* harmony import */ var _lib_meals__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/meals */ \"(rsc)/./lib/meals.js\");\n/* harmony import */ var better_sqlite3__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! better-sqlite3 */ \"better-sqlite3\");\n/* harmony import */ var better_sqlite3__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(better_sqlite3__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _lib_nutrition__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/nutrition */ \"(rsc)/./lib/nutrition.js\");\n\n\n\n\nconst db = better_sqlite3__WEBPACK_IMPORTED_MODULE_2___default()(\"meals.db\");\nasync function GET(_req, { params }) {\n    const slug = params.slug;\n    const meal = (0,_lib_meals__WEBPACK_IMPORTED_MODULE_1__.getMeal)(slug);\n    if (!meal) return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n        error: \"Not found\"\n    }, {\n        status: 404\n    });\n    // cache (napr. 7 dní)\n    const cached = db.prepare(\"SELECT data_json, updated_at FROM nutrition_cache WHERE meal_slug = ?\").get(slug);\n    const now = Date.now();\n    const TTL = 7 * 24 * 60 * 60 * 1000;\n    if (cached && now - Number(cached.updated_at) < TTL) {\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json(JSON.parse(cached.data_json));\n    }\n    const apiKey = process.env.FDC_API_KEY;\n    if (!apiKey) {\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            error: \"Missing FDC_API_KEY in env\"\n        }, {\n            status: 500\n        });\n    }\n    const data = await (0,_lib_nutrition__WEBPACK_IMPORTED_MODULE_3__.computeNutritionFromIngredients)(meal.ingredients, meal.servings ?? 1, apiKey);\n    db.prepare(`\n    INSERT OR REPLACE INTO nutrition_cache (meal_slug, data_json, updated_at)\n    VALUES (?, ?, ?)\n  `).run(slug, JSON.stringify(data), now);\n    return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json(data);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL251dHJpdGlvbi9bc2x1Z10vcm91dGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQTJDO0FBQ0w7QUFDTDtBQUNpQztBQUVsRSxNQUFNSSxLQUFLRixxREFBR0EsQ0FBQztBQUVSLGVBQWVHLElBQUlDLElBQUksRUFBRSxFQUFFQyxNQUFNLEVBQUU7SUFDeEMsTUFBTUMsT0FBT0QsT0FBT0MsSUFBSTtJQUN4QixNQUFNQyxPQUFPUixtREFBT0EsQ0FBQ087SUFDckIsSUFBSSxDQUFDQyxNQUFNLE9BQU9ULGtGQUFZQSxDQUFDVSxJQUFJLENBQUM7UUFBRUMsT0FBTztJQUFZLEdBQUc7UUFBRUMsUUFBUTtJQUFJO0lBRTFFLHNCQUFzQjtJQUN0QixNQUFNQyxTQUFTVCxHQUNaVSxPQUFPLENBQ04seUVBRURDLEdBQUcsQ0FBQ1A7SUFFUCxNQUFNUSxNQUFNQyxLQUFLRCxHQUFHO0lBQ3BCLE1BQU1FLE1BQU0sSUFBSSxLQUFLLEtBQUssS0FBSztJQUUvQixJQUFJTCxVQUFVRyxNQUFNRyxPQUFPTixPQUFPTyxVQUFVLElBQUlGLEtBQUs7UUFDbkQsT0FBT2xCLGtGQUFZQSxDQUFDVSxJQUFJLENBQUNXLEtBQUtDLEtBQUssQ0FBQ1QsT0FBT1UsU0FBUztJQUN0RDtJQUVBLE1BQU1DLFNBQVNDLFFBQVFDLEdBQUcsQ0FBQ0MsV0FBVztJQUN0QyxJQUFJLENBQUNILFFBQVE7UUFDWCxPQUFPeEIsa0ZBQVlBLENBQUNVLElBQUksQ0FDdEI7WUFBRUMsT0FBTztRQUE2QixHQUN0QztZQUFFQyxRQUFRO1FBQUk7SUFFbEI7SUFFQSxNQUFNZ0IsT0FBTyxNQUFNekIsK0VBQStCQSxDQUNoRE0sS0FBS29CLFdBQVcsRUFDaEJwQixLQUFLcUIsUUFBUSxJQUFJLEdBQ2pCTjtJQUdGcEIsR0FBR1UsT0FBTyxDQUNSLENBQUM7OztFQUdILENBQUMsRUFDQ2lCLEdBQUcsQ0FBQ3ZCLE1BQU1hLEtBQUtXLFNBQVMsQ0FBQ0osT0FBT1o7SUFFbEMsT0FBT2hCLGtGQUFZQSxDQUFDVSxJQUFJLENBQUNrQjtBQUMzQiIsInNvdXJjZXMiOlsid2VicGFjazovL2Zvb2RpZXMvLi9hcHAvYXBpL251dHJpdGlvbi9bc2x1Z10vcm91dGUuanM/ZDU5MyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVzcG9uc2UgfSBmcm9tIFwibmV4dC9zZXJ2ZXJcIjtcbmltcG9ydCB7IGdldE1lYWwgfSBmcm9tIFwiQC9saWIvbWVhbHNcIjtcbmltcG9ydCBzcWwgZnJvbSBcImJldHRlci1zcWxpdGUzXCI7XG5pbXBvcnQgeyBjb21wdXRlTnV0cml0aW9uRnJvbUluZ3JlZGllbnRzIH0gZnJvbSBcIkAvbGliL251dHJpdGlvblwiO1xuXG5jb25zdCBkYiA9IHNxbChcIm1lYWxzLmRiXCIpO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gR0VUKF9yZXEsIHsgcGFyYW1zIH0pIHtcbiAgY29uc3Qgc2x1ZyA9IHBhcmFtcy5zbHVnO1xuICBjb25zdCBtZWFsID0gZ2V0TWVhbChzbHVnKTtcbiAgaWYgKCFtZWFsKSByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogXCJOb3QgZm91bmRcIiB9LCB7IHN0YXR1czogNDA0IH0pO1xuXG4gIC8vIGNhY2hlIChuYXByLiA3IGRuw60pXG4gIGNvbnN0IGNhY2hlZCA9IGRiXG4gICAgLnByZXBhcmUoXG4gICAgICBcIlNFTEVDVCBkYXRhX2pzb24sIHVwZGF0ZWRfYXQgRlJPTSBudXRyaXRpb25fY2FjaGUgV0hFUkUgbWVhbF9zbHVnID0gP1wiLFxuICAgIClcbiAgICAuZ2V0KHNsdWcpO1xuXG4gIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XG4gIGNvbnN0IFRUTCA9IDcgKiAyNCAqIDYwICogNjAgKiAxMDAwO1xuXG4gIGlmIChjYWNoZWQgJiYgbm93IC0gTnVtYmVyKGNhY2hlZC51cGRhdGVkX2F0KSA8IFRUTCkge1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihKU09OLnBhcnNlKGNhY2hlZC5kYXRhX2pzb24pKTtcbiAgfVxuXG4gIGNvbnN0IGFwaUtleSA9IHByb2Nlc3MuZW52LkZEQ19BUElfS0VZO1xuICBpZiAoIWFwaUtleSkge1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgIHsgZXJyb3I6IFwiTWlzc2luZyBGRENfQVBJX0tFWSBpbiBlbnZcIiB9LFxuICAgICAgeyBzdGF0dXM6IDUwMCB9LFxuICAgICk7XG4gIH1cblxuICBjb25zdCBkYXRhID0gYXdhaXQgY29tcHV0ZU51dHJpdGlvbkZyb21JbmdyZWRpZW50cyhcbiAgICBtZWFsLmluZ3JlZGllbnRzLFxuICAgIG1lYWwuc2VydmluZ3MgPz8gMSxcbiAgICBhcGlLZXksXG4gICk7XG5cbiAgZGIucHJlcGFyZShcbiAgICBgXG4gICAgSU5TRVJUIE9SIFJFUExBQ0UgSU5UTyBudXRyaXRpb25fY2FjaGUgKG1lYWxfc2x1ZywgZGF0YV9qc29uLCB1cGRhdGVkX2F0KVxuICAgIFZBTFVFUyAoPywgPywgPylcbiAgYCxcbiAgKS5ydW4oc2x1ZywgSlNPTi5zdHJpbmdpZnkoZGF0YSksIG5vdyk7XG5cbiAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKGRhdGEpO1xufVxuIl0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsImdldE1lYWwiLCJzcWwiLCJjb21wdXRlTnV0cml0aW9uRnJvbUluZ3JlZGllbnRzIiwiZGIiLCJHRVQiLCJfcmVxIiwicGFyYW1zIiwic2x1ZyIsIm1lYWwiLCJqc29uIiwiZXJyb3IiLCJzdGF0dXMiLCJjYWNoZWQiLCJwcmVwYXJlIiwiZ2V0Iiwibm93IiwiRGF0ZSIsIlRUTCIsIk51bWJlciIsInVwZGF0ZWRfYXQiLCJKU09OIiwicGFyc2UiLCJkYXRhX2pzb24iLCJhcGlLZXkiLCJwcm9jZXNzIiwiZW52IiwiRkRDX0FQSV9LRVkiLCJkYXRhIiwiaW5ncmVkaWVudHMiLCJzZXJ2aW5ncyIsInJ1biIsInN0cmluZ2lmeSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./app/api/nutrition/[slug]/route.js\n");

/***/ }),

/***/ "(rsc)/./lib/meals.js":
/*!**********************!*\
  !*** ./lib/meals.js ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   deleteMeal: () => (/* binding */ deleteMeal),\n/* harmony export */   getMeal: () => (/* binding */ getMeal),\n/* harmony export */   getMeals: () => (/* binding */ getMeals),\n/* harmony export */   saveMeal: () => (/* binding */ saveMeal)\n/* harmony export */ });\n/* harmony import */ var better_sqlite3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! better-sqlite3 */ \"better-sqlite3\");\n/* harmony import */ var better_sqlite3__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(better_sqlite3__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var slugify__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! slugify */ \"(rsc)/./node_modules/slugify/slugify.js\");\n/* harmony import */ var slugify__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(slugify__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var xss__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! xss */ \"(rsc)/./node_modules/xss/lib/index.js\");\n/* harmony import */ var xss__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(xss__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var node_fs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! node:fs */ \"node:fs\");\n/* harmony import */ var node_fs__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(node_fs__WEBPACK_IMPORTED_MODULE_3__);\n\n\n\n// working with file system\n\nconst db = better_sqlite3__WEBPACK_IMPORTED_MODULE_0___default()(\"meals.db\");\ndb.prepare(`\n  CREATE TABLE IF NOT EXISTS meals (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    slug TEXT NOT NULL UNIQUE,\n    title TEXT NOT NULL,\n    image TEXT NOT NULL,\n    ingredients TEXT NOT NULL,\n    instructions TEXT NOT NULL,\n    cooking_time INTEGER NOT NULL,\n    categories TEXT NOT NULL,\n        servings INTEGER NOT NULL DEFAULT 1,\n\n    creator TEXT NOT NULL,\n    creator_email TEXT NOT NULL\n  )\n`).run();\ndb.prepare(`\n  CREATE TABLE IF NOT EXISTS ingredient_map (\n    ingredient_norm TEXT PRIMARY KEY,\n    fdc_id INTEGER NOT NULL,\n    note TEXT\n  )\n`).run();\ndb.prepare(`\n  CREATE TABLE IF NOT EXISTS nutrition_cache (\n    meal_slug TEXT PRIMARY KEY,\n    data_json TEXT NOT NULL,\n    updated_at INTEGER NOT NULL\n  )\n`).run();\ndb.prepare(`\n  CREATE TABLE IF NOT EXISTS piece_weights (\n    ingredient_norm TEXT PRIMARY KEY,\n    grams_per_piece REAL NOT NULL\n  )\n`).run();\nasync function getMeals({ category = \"\", q = \"\" } = {}) {\n    await new Promise((resolve)=>setTimeout(resolve, 2000));\n    let query = \"SELECT * FROM meals\";\n    const where = [];\n    const params = {};\n    if (category) {\n        where.push(\"categories LIKE @cat\");\n        params.cat = `%\\\"${category}\\\"%`;\n    }\n    if (q) {\n        where.push(\"LOWER(title) LIKE @q\");\n        params.q = `%${q.toLowerCase().trim()}%`;\n    }\n    if (where.length) {\n        query += \" WHERE \" + where.join(\" AND \");\n    }\n    query += \" ORDER BY id DESC\";\n    const meals = db.prepare(query).all(params);\n    return meals.map((m)=>({\n            ...m,\n            ingredients: safeJsonArray(m.ingredients),\n            instructions: safeJsonArray(m.instructions),\n            categories: safeJsonArray(m.categories)\n        }));\n}\nfunction getMeal(slug) {\n    const meal = db.prepare(\"SELECT * FROM meals Where slug = ?\").get(slug);\n    if (!meal) return null;\n    return {\n        ...meal,\n        ingredients: safeJsonArray(meal.ingredients),\n        instructions: safeJsonArray(meal.instructions),\n        categories: safeJsonArray(meal.categories)\n    };\n}\n// function to save file and data to database\nasync function saveMeal(meal) {\n    meal.slug = slugify__WEBPACK_IMPORTED_MODULE_1___default()(meal.title, {\n        lower: true\n    });\n    meal.instructions = xss__WEBPACK_IMPORTED_MODULE_2___default()(meal.instructions);\n    meal.cooking_time = Number(meal.cooking_time);\n    if (!Number.isFinite(meal.cooking_time) || meal.cooking_time <= 0) {\n        throw new Error(\"Invalid cooking time\");\n    }\n    meal.servings = Number(meal.servings);\n    if (!Number.isInteger(meal.servings) || meal.servings < 1 || meal.servings > 20) {\n        throw new Error(\"Invalid servings\");\n    }\n    const extension = meal.image.name.split(\".\").pop();\n    const fileName = `${meal.slug}.${extension}`;\n    const stream = node_fs__WEBPACK_IMPORTED_MODULE_3___default().createWriteStream(`public/images/${fileName}`);\n    const bufferedImage = await meal.image.arrayBuffer();\n    stream.write(Buffer.from(bufferedImage), (error)=>{\n        if (error) {\n            throw new Error(\"Saving image filed\");\n        }\n    });\n    meal.image = `/images/${fileName}`;\n    db.prepare(`\n    INSERT INTO meals\n      (title, ingredients, instructions, image, cooking_time, categories, servings, creator, creator_email, slug)\n    VALUES\n      (@title, @ingredients, @instructions, @image, @cooking_time, @categories,@servings, @creator, @creator_email, @slug)\n  `).run(meal);\n}\nfunction deleteMeal(slug) {\n    const meal = getMeal(slug);\n    if (meal?.image) {\n        const imagePath = `public${meal.image}`;\n        if (node_fs__WEBPACK_IMPORTED_MODULE_3___default().existsSync(imagePath)) {\n            node_fs__WEBPACK_IMPORTED_MODULE_3___default().unlinkSync(imagePath);\n        }\n    }\n    // delete from the database\n    db.prepare(\"DELETE FROM meals WHERE slug = ?\").run(slug);\n}\nfunction safeJsonArray(value) {\n    try {\n        const parsed = JSON.parse(value);\n        return Array.isArray(parsed) ? parsed : [];\n    } catch  {\n        return String(value || \"\").split(/[\\n,]/).map((s)=>s.trim()).filter(Boolean);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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bGliL21lYWxzLmpzP2FiMzQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHNxbCBmcm9tIFwiYmV0dGVyLXNxbGl0ZTNcIjtcbmltcG9ydCBzbHVnaWZ5IGZyb20gXCJzbHVnaWZ5XCI7XG5pbXBvcnQgeHNzIGZyb20gXCJ4c3NcIjtcbi8vIHdvcmtpbmcgd2l0aCBmaWxlIHN5c3RlbVxuaW1wb3J0IGZzIGZyb20gXCJub2RlOmZzXCI7XG5cbmNvbnN0IGRiID0gc3FsKFwibWVhbHMuZGJcIik7XG5cbmRiLnByZXBhcmUoXG4gIGBcbiAgQ1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFMgbWVhbHMgKFxuICAgIGlkIElOVEVHRVIgUFJJTUFSWSBLRVkgQVVUT0lOQ1JFTUVOVCxcbiAgICBzbHVnIFRFWFQgTk9UIE5VTEwgVU5JUVVFLFxuICAgIHRpdGxlIFRFWFQgTk9UIE5VTEwsXG4gICAgaW1hZ2UgVEVYVCBOT1QgTlVMTCxcbiAgICBpbmdyZWRpZW50cyBURVhUIE5PVCBOVUxMLFxuICAgIGluc3RydWN0aW9ucyBURVhUIE5PVCBOVUxMLFxuICAgIGNvb2tpbmdfdGltZSBJTlRFR0VSIE5PVCBOVUxMLFxuICAgIGNhdGVnb3JpZXMgVEVYVCBOT1QgTlVMTCxcbiAgICAgICAgc2VydmluZ3MgSU5URUdFUiBOT1QgTlVMTCBERUZBVUxUIDEsXG5cbiAgICBjcmVhdG9yIFRFWFQgTk9UIE5VTEwsXG4gICAgY3JlYXRvcl9lbWFpbCBURVhUIE5PVCBOVUxMXG4gIClcbmAsXG4pLnJ1bigpO1xuXG5kYi5wcmVwYXJlKFxuICBgXG4gIENSRUFURSBUQUJMRSBJRiBOT1QgRVhJU1RTIGluZ3JlZGllbnRfbWFwIChcbiAgICBpbmdyZWRpZW50X25vcm0gVEVYVCBQUklNQVJZIEtFWSxcbiAgICBmZGNfaWQgSU5URUdFUiBOT1QgTlVMTCxcbiAgICBub3RlIFRFWFRcbiAgKVxuYCxcbikucnVuKCk7XG5cbmRiLnByZXBhcmUoXG4gIGBcbiAgQ1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFMgbnV0cml0aW9uX2NhY2hlIChcbiAgICBtZWFsX3NsdWcgVEVYVCBQUklNQVJZIEtFWSxcbiAgICBkYXRhX2pzb24gVEVYVCBOT1QgTlVMTCxcbiAgICB1cGRhdGVkX2F0IElOVEVHRVIgTk9UIE5VTExcbiAgKVxuYCxcbikucnVuKCk7XG5cbmRiLnByZXBhcmUoXG4gIGBcbiAgQ1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFMgcGllY2Vfd2VpZ2h0cyAoXG4gICAgaW5ncmVkaWVudF9ub3JtIFRFWFQgUFJJTUFSWSBLRVksXG4gICAgZ3JhbXNfcGVyX3BpZWNlIFJFQUwgTk9UIE5VTExcbiAgKVxuYCxcbikucnVuKCk7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRNZWFscyh7IGNhdGVnb3J5ID0gXCJcIiwgcSA9IFwiXCIgfSA9IHt9KSB7XG4gIGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDIwMDApKTtcblxuICBsZXQgcXVlcnkgPSBcIlNFTEVDVCAqIEZST00gbWVhbHNcIjtcbiAgY29uc3Qgd2hlcmUgPSBbXTtcbiAgY29uc3QgcGFyYW1zID0ge307XG5cbiAgaWYgKGNhdGVnb3J5KSB7XG4gICAgd2hlcmUucHVzaChcImNhdGVnb3JpZXMgTElLRSBAY2F0XCIpO1xuICAgIHBhcmFtcy5jYXQgPSBgJVxcXCIke2NhdGVnb3J5fVxcXCIlYDtcbiAgfVxuXG4gIGlmIChxKSB7XG4gICAgd2hlcmUucHVzaChcIkxPV0VSKHRpdGxlKSBMSUtFIEBxXCIpO1xuICAgIHBhcmFtcy5xID0gYCUke3EudG9Mb3dlckNhc2UoKS50cmltKCl9JWA7XG4gIH1cblxuICBpZiAod2hlcmUubGVuZ3RoKSB7XG4gICAgcXVlcnkgKz0gXCIgV0hFUkUgXCIgKyB3aGVyZS5qb2luKFwiIEFORCBcIik7XG4gIH1cblxuICBxdWVyeSArPSBcIiBPUkRFUiBCWSBpZCBERVNDXCI7XG5cbiAgY29uc3QgbWVhbHMgPSBkYi5wcmVwYXJlKHF1ZXJ5KS5hbGwocGFyYW1zKTtcblxuICByZXR1cm4gbWVhbHMubWFwKChtKSA9PiAoe1xuICAgIC4uLm0sXG4gICAgaW5ncmVkaWVudHM6IHNhZmVKc29uQXJyYXkobS5pbmdyZWRpZW50cyksXG4gICAgaW5zdHJ1Y3Rpb25zOiBzYWZlSnNvbkFycmF5KG0uaW5zdHJ1Y3Rpb25zKSxcbiAgICBjYXRlZ29yaWVzOiBzYWZlSnNvbkFycmF5KG0uY2F0ZWdvcmllcyksXG4gIH0pKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldE1lYWwoc2x1Zykge1xuICBjb25zdCBtZWFsID0gZGIucHJlcGFyZShcIlNFTEVDVCAqIEZST00gbWVhbHMgV2hlcmUgc2x1ZyA9ID9cIikuZ2V0KHNsdWcpO1xuXG4gIGlmICghbWVhbCkgcmV0dXJuIG51bGw7XG5cbiAgcmV0dXJuIHtcbiAgICAuLi5tZWFsLFxuICAgIGluZ3JlZGllbnRzOiBzYWZlSnNvbkFycmF5KG1lYWwuaW5ncmVkaWVudHMpLFxuICAgIGluc3RydWN0aW9uczogc2FmZUpzb25BcnJheShtZWFsLmluc3RydWN0aW9ucyksXG4gICAgY2F0ZWdvcmllczogc2FmZUpzb25BcnJheShtZWFsLmNhdGVnb3JpZXMpLFxuICB9O1xufVxuXG4vLyBmdW5jdGlvbiB0byBzYXZlIGZpbGUgYW5kIGRhdGEgdG8gZGF0YWJhc2VcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzYXZlTWVhbChtZWFsKSB7XG4gIG1lYWwuc2x1ZyA9IHNsdWdpZnkobWVhbC50aXRsZSwgeyBsb3dlcjogdHJ1ZSB9KTtcbiAgbWVhbC5pbnN0cnVjdGlvbnMgPSB4c3MobWVhbC5pbnN0cnVjdGlvbnMpO1xuXG4gIG1lYWwuY29va2luZ190aW1lID0gTnVtYmVyKG1lYWwuY29va2luZ190aW1lKTtcbiAgaWYgKCFOdW1iZXIuaXNGaW5pdGUobWVhbC5jb29raW5nX3RpbWUpIHx8IG1lYWwuY29va2luZ190aW1lIDw9IDApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGNvb2tpbmcgdGltZVwiKTtcbiAgfVxuXG4gIG1lYWwuc2VydmluZ3MgPSBOdW1iZXIobWVhbC5zZXJ2aW5ncyk7XG4gIGlmIChcbiAgICAhTnVtYmVyLmlzSW50ZWdlcihtZWFsLnNlcnZpbmdzKSB8fFxuICAgIG1lYWwuc2VydmluZ3MgPCAxIHx8XG4gICAgbWVhbC5zZXJ2aW5ncyA+IDIwXG4gICkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgc2VydmluZ3NcIik7XG4gIH1cblxuICBjb25zdCBleHRlbnNpb24gPSBtZWFsLmltYWdlLm5hbWUuc3BsaXQoXCIuXCIpLnBvcCgpO1xuICBjb25zdCBmaWxlTmFtZSA9IGAke21lYWwuc2x1Z30uJHtleHRlbnNpb259YDtcblxuICBjb25zdCBzdHJlYW0gPSBmcy5jcmVhdGVXcml0ZVN0cmVhbShgcHVibGljL2ltYWdlcy8ke2ZpbGVOYW1lfWApO1xuICBjb25zdCBidWZmZXJlZEltYWdlID0gYXdhaXQgbWVhbC5pbWFnZS5hcnJheUJ1ZmZlcigpO1xuXG4gIHN0cmVhbS53cml0ZShCdWZmZXIuZnJvbShidWZmZXJlZEltYWdlKSwgKGVycm9yKSA9PiB7XG4gICAgaWYgKGVycm9yKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJTYXZpbmcgaW1hZ2UgZmlsZWRcIik7XG4gICAgfVxuICB9KTtcblxuICBtZWFsLmltYWdlID0gYC9pbWFnZXMvJHtmaWxlTmFtZX1gO1xuXG4gIGRiLnByZXBhcmUoXG4gICAgYFxuICAgIElOU0VSVCBJTlRPIG1lYWxzXG4gICAgICAodGl0bGUsIGluZ3JlZGllbnRzLCBpbnN0cnVjdGlvbnMsIGltYWdlLCBjb29raW5nX3RpbWUsIGNhdGVnb3JpZXMsIHNlcnZpbmdzLCBjcmVhdG9yLCBjcmVhdG9yX2VtYWlsLCBzbHVnKVxuICAgIFZBTFVFU1xuICAgICAgKEB0aXRsZSwgQGluZ3JlZGllbnRzLCBAaW5zdHJ1Y3Rpb25zLCBAaW1hZ2UsIEBjb29raW5nX3RpbWUsIEBjYXRlZ29yaWVzLEBzZXJ2aW5ncywgQGNyZWF0b3IsIEBjcmVhdG9yX2VtYWlsLCBAc2x1ZylcbiAgYCxcbiAgKS5ydW4obWVhbCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkZWxldGVNZWFsKHNsdWcpIHtcbiAgY29uc3QgbWVhbCA9IGdldE1lYWwoc2x1Zyk7XG5cbiAgaWYgKG1lYWw/LmltYWdlKSB7XG4gICAgY29uc3QgaW1hZ2VQYXRoID0gYHB1YmxpYyR7bWVhbC5pbWFnZX1gO1xuICAgIGlmIChmcy5leGlzdHNTeW5jKGltYWdlUGF0aCkpIHtcbiAgICAgIGZzLnVubGlua1N5bmMoaW1hZ2VQYXRoKTtcbiAgICB9XG4gIH1cblxuICAvLyBkZWxldGUgZnJvbSB0aGUgZGF0YWJhc2VcbiAgZGIucHJlcGFyZShcIkRFTEVURSBGUk9NIG1lYWxzIFdIRVJFIHNsdWcgPSA/XCIpLnJ1bihzbHVnKTtcbn1cblxuZnVuY3Rpb24gc2FmZUpzb25BcnJheSh2YWx1ZSkge1xuICB0cnkge1xuICAgIGNvbnN0IHBhcnNlZCA9IEpTT04ucGFyc2UodmFsdWUpO1xuICAgIHJldHVybiBBcnJheS5pc0FycmF5KHBhcnNlZCkgPyBwYXJzZWQgOiBbXTtcbiAgfSBjYXRjaCB7XG4gICAgcmV0dXJuIFN0cmluZyh2YWx1ZSB8fCBcIlwiKVxuICAgICAgLnNwbGl0KC9bXFxuLF0vKVxuICAgICAgLm1hcCgocykgPT4gcy50cmltKCkpXG4gICAgICAuZmlsdGVyKEJvb2xlYW4pO1xuICB9XG59XG4iXSwibmFtZXMiOlsic3FsIiwic2x1Z2lmeSIsInhzcyIsImZzIiwiZGIiLCJwcmVwYXJlIiwicnVuIiwiZ2V0TWVhbHMiLCJjYXRlZ29yeSIsInEiLCJQcm9taXNlIiwicmVzb2x2ZSIsInNldFRpbWVvdXQiLCJxdWVyeSIsIndoZXJlIiwicGFyYW1zIiwicHVzaCIsImNhdCIsInRvTG93ZXJDYXNlIiwidHJpbSIsImxlbmd0aCIsImpvaW4iLCJtZWFscyIsImFsbCIsIm1hcCIsIm0iLCJpbmdyZWRpZW50cyIsInNhZmVKc29uQXJyYXkiLCJpbnN0cnVjdGlvbnMiLCJjYXRlZ29yaWVzIiwiZ2V0TWVhbCIsInNsdWciLCJtZWFsIiwiZ2V0Iiwic2F2ZU1lYWwiLCJ0aXRsZSIsImxvd2VyIiwiY29va2luZ190aW1lIiwiTnVtYmVyIiwiaXNGaW5pdGUiLCJFcnJvciIsInNlcnZpbmdzIiwiaXNJbnRlZ2VyIiwiZXh0ZW5zaW9uIiwiaW1hZ2UiLCJuYW1lIiwic3BsaXQiLCJwb3AiLCJmaWxlTmFtZSIsInN0cmVhbSIsImNyZWF0ZVdyaXRlU3RyZWFtIiwiYnVmZmVyZWRJbWFnZSIsImFycmF5QnVmZmVyIiwid3JpdGUiLCJCdWZmZXIiLCJmcm9tIiwiZXJyb3IiLCJkZWxldGVNZWFsIiwiaW1hZ2VQYXRoIiwiZXhpc3RzU3luYyIsInVubGlua1N5bmMiLCJ2YWx1ZSIsInBhcnNlZCIsIkpTT04iLCJwYXJzZSIsIkFycmF5IiwiaXNBcnJheSIsIlN0cmluZyIsInMiLCJmaWx0ZXIiLCJCb29sZWFuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./lib/meals.js\n");

/***/ }),

/***/ "(rsc)/./lib/nutrition.js":
/*!**************************!*\
  !*** ./lib/nutrition.js ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   computeNutritionFromIngredients: () => (/* binding */ computeNutritionFromIngredients)\n/* harmony export */ });\n/* harmony import */ var better_sqlite3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! better-sqlite3 */ \"better-sqlite3\");\n/* harmony import */ var better_sqlite3__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(better_sqlite3__WEBPACK_IMPORTED_MODULE_0__);\n\nconst db = better_sqlite3__WEBPACK_IMPORTED_MODULE_0___default()(\"meals.db\");\nconst FDC_BASE = \"https://api.nal.usda.gov/fdc/v1\";\nfunction toGrams(amount, unit, ingredientNorm) {\n    const a = Number(amount);\n    if (!Number.isFinite(a) || a <= 0) return null;\n    const u = (unit || \"\").trim();\n    if (u === \"mg\") return a / 1000;\n    if (u === \"g\") return a;\n    if (u === \"kg\") return a * 1000;\n    if (u === \"ml\") return a;\n    if (u === \"l\") return a * 1000;\n    if (u === \"tsp\") return a * 5;\n    if (u === \"tbsp\") return a * 15;\n    if (u === \"pinch\") return a * 0.3;\n    if (u === \"pcs\") {\n        const row = db.prepare(\"SELECT grams_per_piece FROM piece_weights WHERE ingredient_norm = ?\").get(ingredientNorm);\n        if (!row) return null;\n        return a * Number(row.grams_per_piece);\n    }\n    return null;\n}\nfunction normName(name) {\n    return String(name || \"\").toLowerCase().trim().replace(/\\s+/g, \" \");\n}\nasync function fdcSearch(query, apiKey) {\n    if (!apiKey) throw new Error(\"Missing FDC_API_KEY\");\n    const url = `${FDC_BASE}/foods/search?` + new URLSearchParams({\n        api_key: apiKey,\n        query,\n        pageSize: \"5\"\n    });\n    const res = await fetch(url, {\n        headers: {\n            Accept: \"application/json\",\n            \"User-Agent\": \"Foodies/1.0 (local dev)\"\n        }\n    });\n    if (!res.ok) {\n        const body = await res.text().catch(()=>\"\");\n        throw new Error(`FDC search failed: ${res.status} ${body}`);\n    }\n    return res.json();\n}\nasync function fdcFood(fdcId, apiKey) {\n    const res = await fetch(`${FDC_BASE}/food/${fdcId}?api_key=${apiKey}`);\n    if (!res.ok) throw new Error(`FDC food failed: ${res.status}`);\n    return res.json();\n}\nfunction pickNutrients(foodJson) {\n    const out = {\n        kcal_100g: 0,\n        protein_g_100g: 0,\n        carbs_g_100g: 0,\n        fat_g_100g: 0,\n        fiber_g_100g: 0,\n        sodium_mg_100g: 0\n    };\n    const nutrients = foodJson?.foodNutrients || [];\n    for (const n of nutrients){\n        const name = (n.nutrient?.name || n.nutrientName || \"\").toLowerCase();\n        const unit = (n.nutrient?.unitName || n.unitName || \"\").toLowerCase();\n        const val = Number(n.amount ?? n.value);\n        if (!Number.isFinite(val)) continue;\n        if (name.includes(\"energy\") && (unit === \"kcal\" || unit === \"kj\")) {\n            if (unit === \"kcal\") out.kcal_100g = val;\n        }\n        if (name.includes(\"protein\") && unit === \"g\") out.protein_g_100g = val;\n        if (name.includes(\"carbohydrate\") && unit === \"g\") out.carbs_g_100g = val;\n        if ((name.includes(\"total lipid\") || name === \"fat\") && unit === \"g\") out.fat_g_100g = val;\n        if (name.includes(\"fiber\") && unit === \"g\") out.fiber_g_100g = val;\n        if (name.includes(\"sodium\") && unit === \"mg\") out.sodium_mg_100g = val;\n    }\n    return out;\n}\nfunction sumNutrients(sum, n, grams) {\n    const factor = grams / 100;\n    sum.kcal += n.kcal_100g * factor;\n    sum.protein_g += n.protein_g_100g * factor;\n    sum.carbs_g += n.carbs_g_100g * factor;\n    sum.fat_g += n.fat_g_100g * factor;\n    sum.fiber_g += n.fiber_g_100g * factor;\n    sum.sodium_mg += n.sodium_mg_100g * factor;\n}\nasync function computeNutritionFromIngredients(ingredientGroups, servings, apiKey) {\n    const total = {\n        kcal: 0,\n        protein_g: 0,\n        carbs_g: 0,\n        fat_g: 0,\n        fiber_g: 0,\n        sodium_mg: 0,\n        unknown: []\n    };\n    // flatten groups → items\n    const items = [];\n    for (const g of ingredientGroups || []){\n        for (const ing of g.items || [])items.push(ing);\n    }\n    for (const ing of items){\n        const nameNorm = normName(ing.name);\n        if (!nameNorm) continue;\n        const grams = toGrams(ing.amount, ing.unit, nameNorm);\n        if (!grams) {\n            total.unknown.push({\n                ...ing,\n                reason: \"Neviem prepoč\\xedtať jednotku na gramy (pcs/lyžice bez v\\xe1hy).\"\n            });\n            continue;\n        }\n        const mapped = db.prepare(\"SELECT fdc_id FROM ingredient_map WHERE ingredient_norm = ?\").get(nameNorm);\n        let fdcId = mapped?.fdc_id;\n        if (!fdcId) {\n            const search = await fdcSearch(nameNorm, apiKey);\n            const hit = search?.foods?.[0];\n            if (!hit?.fdcId) {\n                total.unknown.push({\n                    ...ing,\n                    reason: \"Nenašlo sa v USDA datab\\xe1ze.\"\n                });\n                continue;\n            }\n            fdcId = hit.fdcId;\n            db.prepare(\"INSERT OR REPLACE INTO ingredient_map (ingredient_norm, fdc_id, note) VALUES (?, ?, ?)\").run(nameNorm, fdcId, `auto-match: ${hit.description || \"\"}`);\n        }\n        const food = await fdcFood(fdcId, apiKey);\n        const n = pickNutrients(food);\n        sumNutrients(total, n, grams);\n    }\n    const salt_g = total.sodium_mg / 1000 * 2.5;\n    const safeServings = Number.isFinite(Number(servings)) && Number(servings) > 0 ? Number(servings) : 1;\n    const perServing = {\n        kcal: total.kcal / safeServings,\n        protein_g: total.protein_g / safeServings,\n        carbs_g: total.carbs_g / safeServings,\n        fat_g: total.fat_g / safeServings,\n        fiber_g: total.fiber_g / safeServings,\n        salt_g: salt_g / safeServings\n    };\n    const perRecipe = {\n        kcal: total.kcal,\n        protein_g: total.protein_g,\n        carbs_g: total.carbs_g,\n        fat_g: total.fat_g,\n        fiber_g: total.fiber_g,\n        salt_g\n    };\n    return {\n        perRecipe,\n        perServing,\n        unknown: total.unknown\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QnZDLEdBQUdZLE9BQU8sQ0FDUiwwRkFDQXdFLEdBQUcsQ0FBQ1AsVUFBVXRDLE9BQU8sQ0FBQyxZQUFZLEVBQUUyQyxJQUFJRyxXQUFXLElBQUksR0FBRyxDQUFDO1FBQy9EO1FBRUEsTUFBTUMsT0FBTyxNQUFNaEQsUUFBUUMsT0FBT2pCO1FBQ2xDLE1BQU02QixJQUFJWCxjQUFjOEM7UUFDeEI1QixhQUFhYSxPQUFPcEIsR0FBR1M7SUFDekI7SUFFQSxNQUFNMkIsU0FBUyxNQUFPcEIsU0FBUyxHQUFHLE9BQVE7SUFFMUMsTUFBTXFCLGVBQ0pqRixPQUFPQyxRQUFRLENBQUNELE9BQU8rRCxjQUFjL0QsT0FBTytELFlBQVksSUFDcEQvRCxPQUFPK0QsWUFDUDtJQUVOLE1BQU1tQixhQUFhO1FBQ2pCM0IsTUFBTVMsTUFBTVQsSUFBSSxHQUFHMEI7UUFDbkJ6QixXQUFXUSxNQUFNUixTQUFTLEdBQUd5QjtRQUM3QnhCLFNBQVNPLE1BQU1QLE9BQU8sR0FBR3dCO1FBQ3pCdkIsT0FBT00sTUFBTU4sS0FBSyxHQUFHdUI7UUFDckJ0QixTQUFTSyxNQUFNTCxPQUFPLEdBQUdzQjtRQUN6QkQsUUFBUUEsU0FBU0M7SUFDbkI7SUFFQSxNQUFNRSxZQUFZO1FBQ2hCNUIsTUFBTVMsTUFBTVQsSUFBSTtRQUNoQkMsV0FBV1EsTUFBTVIsU0FBUztRQUMxQkMsU0FBU08sTUFBTVAsT0FBTztRQUN0QkMsT0FBT00sTUFBTU4sS0FBSztRQUNsQkMsU0FBU0ssTUFBTUwsT0FBTztRQUN0QnFCO0lBQ0Y7SUFFQSxPQUFPO1FBQUVHO1FBQVdEO1FBQVlqQixTQUFTRCxNQUFNQyxPQUFPO0lBQUM7QUFDekQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mb29kaWVzLy4vbGliL251dHJpdGlvbi5qcz85YTMwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBzcWwgZnJvbSBcImJldHRlci1zcWxpdGUzXCI7XG5cbmNvbnN0IGRiID0gc3FsKFwibWVhbHMuZGJcIik7XG5cbmNvbnN0IEZEQ19CQVNFID0gXCJodHRwczovL2FwaS5uYWwudXNkYS5nb3YvZmRjL3YxXCI7XG5cbmZ1bmN0aW9uIHRvR3JhbXMoYW1vdW50LCB1bml0LCBpbmdyZWRpZW50Tm9ybSkge1xuICBjb25zdCBhID0gTnVtYmVyKGFtb3VudCk7XG4gIGlmICghTnVtYmVyLmlzRmluaXRlKGEpIHx8IGEgPD0gMCkgcmV0dXJuIG51bGw7XG5cbiAgY29uc3QgdSA9ICh1bml0IHx8IFwiXCIpLnRyaW0oKTtcblxuICBpZiAodSA9PT0gXCJtZ1wiKSByZXR1cm4gYSAvIDEwMDA7XG4gIGlmICh1ID09PSBcImdcIikgcmV0dXJuIGE7XG4gIGlmICh1ID09PSBcImtnXCIpIHJldHVybiBhICogMTAwMDtcblxuICBpZiAodSA9PT0gXCJtbFwiKSByZXR1cm4gYTtcbiAgaWYgKHUgPT09IFwibFwiKSByZXR1cm4gYSAqIDEwMDA7XG5cbiAgaWYgKHUgPT09IFwidHNwXCIpIHJldHVybiBhICogNTtcbiAgaWYgKHUgPT09IFwidGJzcFwiKSByZXR1cm4gYSAqIDE1O1xuICBpZiAodSA9PT0gXCJwaW5jaFwiKSByZXR1cm4gYSAqIDAuMztcblxuICBpZiAodSA9PT0gXCJwY3NcIikge1xuICAgIGNvbnN0IHJvdyA9IGRiXG4gICAgICAucHJlcGFyZShcbiAgICAgICAgXCJTRUxFQ1QgZ3JhbXNfcGVyX3BpZWNlIEZST00gcGllY2Vfd2VpZ2h0cyBXSEVSRSBpbmdyZWRpZW50X25vcm0gPSA/XCIsXG4gICAgICApXG4gICAgICAuZ2V0KGluZ3JlZGllbnROb3JtKTtcbiAgICBpZiAoIXJvdykgcmV0dXJuIG51bGw7XG4gICAgcmV0dXJuIGEgKiBOdW1iZXIocm93LmdyYW1zX3Blcl9waWVjZSk7XG4gIH1cblxuICByZXR1cm4gbnVsbDtcbn1cblxuZnVuY3Rpb24gbm9ybU5hbWUobmFtZSkge1xuICByZXR1cm4gU3RyaW5nKG5hbWUgfHwgXCJcIilcbiAgICAudG9Mb3dlckNhc2UoKVxuICAgIC50cmltKClcbiAgICAucmVwbGFjZSgvXFxzKy9nLCBcIiBcIik7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGZkY1NlYXJjaChxdWVyeSwgYXBpS2V5KSB7XG4gIGlmICghYXBpS2V5KSB0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIEZEQ19BUElfS0VZXCIpO1xuXG4gIGNvbnN0IHVybCA9XG4gICAgYCR7RkRDX0JBU0V9L2Zvb2RzL3NlYXJjaD9gICtcbiAgICBuZXcgVVJMU2VhcmNoUGFyYW1zKHtcbiAgICAgIGFwaV9rZXk6IGFwaUtleSxcbiAgICAgIHF1ZXJ5LFxuICAgICAgcGFnZVNpemU6IFwiNVwiLFxuICAgIH0pO1xuXG4gIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKHVybCwge1xuICAgIGhlYWRlcnM6IHtcbiAgICAgIEFjY2VwdDogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICBcIlVzZXItQWdlbnRcIjogXCJGb29kaWVzLzEuMCAobG9jYWwgZGV2KVwiLFxuICAgIH0sXG4gIH0pO1xuXG4gIGlmICghcmVzLm9rKSB7XG4gICAgY29uc3QgYm9keSA9IGF3YWl0IHJlcy50ZXh0KCkuY2F0Y2goKCkgPT4gXCJcIik7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBGREMgc2VhcmNoIGZhaWxlZDogJHtyZXMuc3RhdHVzfSAke2JvZHl9YCk7XG4gIH1cblxuICByZXR1cm4gcmVzLmpzb24oKTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gZmRjRm9vZChmZGNJZCwgYXBpS2V5KSB7XG4gIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKGAke0ZEQ19CQVNFfS9mb29kLyR7ZmRjSWR9P2FwaV9rZXk9JHthcGlLZXl9YCk7XG4gIGlmICghcmVzLm9rKSB0aHJvdyBuZXcgRXJyb3IoYEZEQyBmb29kIGZhaWxlZDogJHtyZXMuc3RhdHVzfWApO1xuICByZXR1cm4gcmVzLmpzb24oKTtcbn1cblxuZnVuY3Rpb24gcGlja051dHJpZW50cyhmb29kSnNvbikge1xuICBjb25zdCBvdXQgPSB7XG4gICAga2NhbF8xMDBnOiAwLFxuICAgIHByb3RlaW5fZ18xMDBnOiAwLFxuICAgIGNhcmJzX2dfMTAwZzogMCxcbiAgICBmYXRfZ18xMDBnOiAwLFxuICAgIGZpYmVyX2dfMTAwZzogMCxcbiAgICBzb2RpdW1fbWdfMTAwZzogMCxcbiAgfTtcblxuICBjb25zdCBudXRyaWVudHMgPSBmb29kSnNvbj8uZm9vZE51dHJpZW50cyB8fCBbXTtcbiAgZm9yIChjb25zdCBuIG9mIG51dHJpZW50cykge1xuICAgIGNvbnN0IG5hbWUgPSAobi5udXRyaWVudD8ubmFtZSB8fCBuLm51dHJpZW50TmFtZSB8fCBcIlwiKS50b0xvd2VyQ2FzZSgpO1xuICAgIGNvbnN0IHVuaXQgPSAobi5udXRyaWVudD8udW5pdE5hbWUgfHwgbi51bml0TmFtZSB8fCBcIlwiKS50b0xvd2VyQ2FzZSgpO1xuICAgIGNvbnN0IHZhbCA9IE51bWJlcihuLmFtb3VudCA/PyBuLnZhbHVlKTtcbiAgICBpZiAoIU51bWJlci5pc0Zpbml0ZSh2YWwpKSBjb250aW51ZTtcblxuICAgIGlmIChuYW1lLmluY2x1ZGVzKFwiZW5lcmd5XCIpICYmICh1bml0ID09PSBcImtjYWxcIiB8fCB1bml0ID09PSBcImtqXCIpKSB7XG4gICAgICBpZiAodW5pdCA9PT0gXCJrY2FsXCIpIG91dC5rY2FsXzEwMGcgPSB2YWw7XG4gICAgfVxuXG4gICAgaWYgKG5hbWUuaW5jbHVkZXMoXCJwcm90ZWluXCIpICYmIHVuaXQgPT09IFwiZ1wiKSBvdXQucHJvdGVpbl9nXzEwMGcgPSB2YWw7XG4gICAgaWYgKG5hbWUuaW5jbHVkZXMoXCJjYXJib2h5ZHJhdGVcIikgJiYgdW5pdCA9PT0gXCJnXCIpIG91dC5jYXJic19nXzEwMGcgPSB2YWw7XG4gICAgaWYgKChuYW1lLmluY2x1ZGVzKFwidG90YWwgbGlwaWRcIikgfHwgbmFtZSA9PT0gXCJmYXRcIikgJiYgdW5pdCA9PT0gXCJnXCIpXG4gICAgICBvdXQuZmF0X2dfMTAwZyA9IHZhbDtcblxuICAgIGlmIChuYW1lLmluY2x1ZGVzKFwiZmliZXJcIikgJiYgdW5pdCA9PT0gXCJnXCIpIG91dC5maWJlcl9nXzEwMGcgPSB2YWw7XG5cbiAgICBpZiAobmFtZS5pbmNsdWRlcyhcInNvZGl1bVwiKSAmJiB1bml0ID09PSBcIm1nXCIpIG91dC5zb2RpdW1fbWdfMTAwZyA9IHZhbDtcbiAgfVxuXG4gIHJldHVybiBvdXQ7XG59XG5cbmZ1bmN0aW9uIHN1bU51dHJpZW50cyhzdW0sIG4sIGdyYW1zKSB7XG4gIGNvbnN0IGZhY3RvciA9IGdyYW1zIC8gMTAwO1xuICBzdW0ua2NhbCArPSBuLmtjYWxfMTAwZyAqIGZhY3RvcjtcbiAgc3VtLnByb3RlaW5fZyArPSBuLnByb3RlaW5fZ18xMDBnICogZmFjdG9yO1xuICBzdW0uY2FyYnNfZyArPSBuLmNhcmJzX2dfMTAwZyAqIGZhY3RvcjtcbiAgc3VtLmZhdF9nICs9IG4uZmF0X2dfMTAwZyAqIGZhY3RvcjtcbiAgc3VtLmZpYmVyX2cgKz0gbi5maWJlcl9nXzEwMGcgKiBmYWN0b3I7XG4gIHN1bS5zb2RpdW1fbWcgKz0gbi5zb2RpdW1fbWdfMTAwZyAqIGZhY3Rvcjtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNvbXB1dGVOdXRyaXRpb25Gcm9tSW5ncmVkaWVudHMoXG4gIGluZ3JlZGllbnRHcm91cHMsXG4gIHNlcnZpbmdzLFxuICBhcGlLZXksXG4pIHtcbiAgY29uc3QgdG90YWwgPSB7XG4gICAga2NhbDogMCxcbiAgICBwcm90ZWluX2c6IDAsXG4gICAgY2FyYnNfZzogMCxcbiAgICBmYXRfZzogMCxcbiAgICBmaWJlcl9nOiAwLFxuICAgIHNvZGl1bV9tZzogMCxcbiAgICB1bmtub3duOiBbXSxcbiAgfTtcblxuICAvLyBmbGF0dGVuIGdyb3VwcyDihpIgaXRlbXNcbiAgY29uc3QgaXRlbXMgPSBbXTtcbiAgZm9yIChjb25zdCBnIG9mIGluZ3JlZGllbnRHcm91cHMgfHwgW10pIHtcbiAgICBmb3IgKGNvbnN0IGluZyBvZiBnLml0ZW1zIHx8IFtdKSBpdGVtcy5wdXNoKGluZyk7XG4gIH1cblxuICBmb3IgKGNvbnN0IGluZyBvZiBpdGVtcykge1xuICAgIGNvbnN0IG5hbWVOb3JtID0gbm9ybU5hbWUoaW5nLm5hbWUpO1xuICAgIGlmICghbmFtZU5vcm0pIGNvbnRpbnVlO1xuXG4gICAgY29uc3QgZ3JhbXMgPSB0b0dyYW1zKGluZy5hbW91bnQsIGluZy51bml0LCBuYW1lTm9ybSk7XG4gICAgaWYgKCFncmFtcykge1xuICAgICAgdG90YWwudW5rbm93bi5wdXNoKHtcbiAgICAgICAgLi4uaW5nLFxuICAgICAgICByZWFzb246IFwiTmV2aWVtIHByZXBvxI3DrXRhxaUgamVkbm90a3UgbmEgZ3JhbXkgKHBjcy9secW+aWNlIGJleiB2w6FoeSkuXCIsXG4gICAgICB9KTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIGNvbnN0IG1hcHBlZCA9IGRiXG4gICAgICAucHJlcGFyZShcIlNFTEVDVCBmZGNfaWQgRlJPTSBpbmdyZWRpZW50X21hcCBXSEVSRSBpbmdyZWRpZW50X25vcm0gPSA/XCIpXG4gICAgICAuZ2V0KG5hbWVOb3JtKTtcblxuICAgIGxldCBmZGNJZCA9IG1hcHBlZD8uZmRjX2lkO1xuXG4gICAgaWYgKCFmZGNJZCkge1xuICAgICAgY29uc3Qgc2VhcmNoID0gYXdhaXQgZmRjU2VhcmNoKG5hbWVOb3JtLCBhcGlLZXkpO1xuICAgICAgY29uc3QgaGl0ID0gc2VhcmNoPy5mb29kcz8uWzBdO1xuICAgICAgaWYgKCFoaXQ/LmZkY0lkKSB7XG4gICAgICAgIHRvdGFsLnVua25vd24ucHVzaCh7IC4uLmluZywgcmVhc29uOiBcIk5lbmHFoWxvIHNhIHYgVVNEQSBkYXRhYsOhemUuXCIgfSk7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgZmRjSWQgPSBoaXQuZmRjSWQ7XG5cbiAgICAgIGRiLnByZXBhcmUoXG4gICAgICAgIFwiSU5TRVJUIE9SIFJFUExBQ0UgSU5UTyBpbmdyZWRpZW50X21hcCAoaW5ncmVkaWVudF9ub3JtLCBmZGNfaWQsIG5vdGUpIFZBTFVFUyAoPywgPywgPylcIixcbiAgICAgICkucnVuKG5hbWVOb3JtLCBmZGNJZCwgYGF1dG8tbWF0Y2g6ICR7aGl0LmRlc2NyaXB0aW9uIHx8IFwiXCJ9YCk7XG4gICAgfVxuXG4gICAgY29uc3QgZm9vZCA9IGF3YWl0IGZkY0Zvb2QoZmRjSWQsIGFwaUtleSk7XG4gICAgY29uc3QgbiA9IHBpY2tOdXRyaWVudHMoZm9vZCk7XG4gICAgc3VtTnV0cmllbnRzKHRvdGFsLCBuLCBncmFtcyk7XG4gIH1cblxuICBjb25zdCBzYWx0X2cgPSAodG90YWwuc29kaXVtX21nIC8gMTAwMCkgKiAyLjU7XG5cbiAgY29uc3Qgc2FmZVNlcnZpbmdzID1cbiAgICBOdW1iZXIuaXNGaW5pdGUoTnVtYmVyKHNlcnZpbmdzKSkgJiYgTnVtYmVyKHNlcnZpbmdzKSA+IDBcbiAgICAgID8gTnVtYmVyKHNlcnZpbmdzKVxuICAgICAgOiAxO1xuXG4gIGNvbnN0IHBlclNlcnZpbmcgPSB7XG4gICAga2NhbDogdG90YWwua2NhbCAvIHNhZmVTZXJ2aW5ncyxcbiAgICBwcm90ZWluX2c6IHRvdGFsLnByb3RlaW5fZyAvIHNhZmVTZXJ2aW5ncyxcbiAgICBjYXJic19nOiB0b3RhbC5jYXJic19nIC8gc2FmZVNlcnZpbmdzLFxuICAgIGZhdF9nOiB0b3RhbC5mYXRfZyAvIHNhZmVTZXJ2aW5ncyxcbiAgICBmaWJlcl9nOiB0b3RhbC5maWJlcl9nIC8gc2FmZVNlcnZpbmdzLFxuICAgIHNhbHRfZzogc2FsdF9nIC8gc2FmZVNlcnZpbmdzLFxuICB9O1xuXG4gIGNvbnN0IHBlclJlY2lwZSA9IHtcbiAgICBrY2FsOiB0b3RhbC5rY2FsLFxuICAgIHByb3RlaW5fZzogdG90YWwucHJvdGVpbl9nLFxuICAgIGNhcmJzX2c6IHRvdGFsLmNhcmJzX2csXG4gICAgZmF0X2c6IHRvdGFsLmZhdF9nLFxuICAgIGZpYmVyX2c6IHRvdGFsLmZpYmVyX2csXG4gICAgc2FsdF9nLFxuICB9O1xuXG4gIHJldHVybiB7IHBlclJlY2lwZSwgcGVyU2VydmluZywgdW5rbm93bjogdG90YWwudW5rbm93biB9O1xufVxuIl0sIm5hbWVzIjpbInNxbCIsImRiIiwiRkRDX0JBU0UiLCJ0b0dyYW1zIiwiYW1vdW50IiwidW5pdCIsImluZ3JlZGllbnROb3JtIiwiYSIsIk51bWJlciIsImlzRmluaXRlIiwidSIsInRyaW0iLCJyb3ciLCJwcmVwYXJlIiwiZ2V0IiwiZ3JhbXNfcGVyX3BpZWNlIiwibm9ybU5hbWUiLCJuYW1lIiwiU3RyaW5nIiwidG9Mb3dlckNhc2UiLCJyZXBsYWNlIiwiZmRjU2VhcmNoIiwicXVlcnkiLCJhcGlLZXkiLCJFcnJvciIsInVybCIsIlVSTFNlYXJjaFBhcmFtcyIsImFwaV9rZXkiLCJwYWdlU2l6ZSIsInJlcyIsImZldGNoIiwiaGVhZGVycyIsIkFjY2VwdCIsIm9rIiwiYm9keSIsInRleHQiLCJjYXRjaCIsInN0YXR1cyIsImpzb24iLCJmZGNGb29kIiwiZmRjSWQiLCJwaWNrTnV0cmllbnRzIiwiZm9vZEpzb24iLCJvdXQiLCJrY2FsXzEwMGciLCJwcm90ZWluX2dfMTAwZyIsImNhcmJzX2dfMTAwZyIsImZhdF9nXzEwMGciLCJmaWJlcl9nXzEwMGciLCJzb2RpdW1fbWdfMTAwZyIsIm51dHJpZW50cyIsImZvb2ROdXRyaWVudHMiLCJuIiwibnV0cmllbnQiLCJudXRyaWVudE5hbWUiLCJ1bml0TmFtZSIsInZhbCIsInZhbHVlIiwiaW5jbHVkZXMiLCJzdW1OdXRyaWVudHMiLCJzdW0iLCJncmFtcyIsImZhY3RvciIsImtjYWwiLCJwcm90ZWluX2ciLCJjYXJic19nIiwiZmF0X2ciLCJmaWJlcl9nIiwic29kaXVtX21nIiwiY29tcHV0ZU51dHJpdGlvbkZyb21JbmdyZWRpZW50cyIsImluZ3JlZGllbnRHcm91cHMiLCJzZXJ2aW5ncyIsInRvdGFsIiwidW5rbm93biIsIml0ZW1zIiwiZyIsImluZyIsInB1c2giLCJuYW1lTm9ybSIsInJlYXNvbiIsIm1hcHBlZCIsImZkY19pZCIsInNlYXJjaCIsImhpdCIsImZvb2RzIiwicnVuIiwiZGVzY3JpcHRpb24iLCJmb29kIiwic2FsdF9nIiwic2FmZVNlcnZpbmdzIiwicGVyU2VydmluZyIsInBlclJlY2lwZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/nutrition.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/cssfilter","vendor-chunks/xss","vendor-chunks/slugify"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fnutrition%2F%5Bslug%5D%2Froute&page=%2Fapi%2Fnutrition%2F%5Bslug%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fnutrition%2F%5Bslug%5D%2Froute.js&appDir=%2FUsers%2Fdianapetrovcikova%2FWebdev%2Fnext%2FFoodies%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fdianapetrovcikova%2FWebdev%2Fnext%2FFoodies&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();